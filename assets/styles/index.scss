@import 'defines.scss';
@import '../../node_modules/normalize.css/normalize.css';
@import 'forms.scss';

input {
  @extend %form-reset-input;
}

label {
  @extend %form-reset-label;
}

select {
  @extend %form-reset-select;
}

button {
  @extend %form-reset-button;
}

textarea {
  @extend %form-reset-textarea;
}

@font-face {
    font-family: 'Rewinder';
    src: url('./files/Rewinder.eot');
    src: url('./files/Rewinder.eot?#iefix') format('embedded-opentype'),
        url('./files/Rewinder.woff') format('woff'),
        url('./files/Rewinder.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
}

/* pt-serif-400normal - latin */
@font-face {
  font-family: 'PT Serif';
  font-style: normal;
  font-display: swap;
  font-weight: 400;
  src:
    local('PT Serif Regular '),
    local('PT Serif-Regular'),
    url('./files/pt-serif-latin-400.woff2') format('woff2'), /* Super Modern Browsers */
    url('./files/pt-serif-latin-400.woff') format('woff'); /* Modern Browsers */
}

/* pt-serif-400italic - latin */
@font-face {
  font-family: 'PT Serif';
  font-style: italic;
  font-display: swap;
  font-weight: 400;
  src:
    local('PT Serif Regular italic'),
    local('PT Serif-Regularitalic'),
    url('./files/pt-serif-latin-400italic.woff2') format('woff2'), /* Super Modern Browsers */
    url('./files/pt-serif-latin-400italic.woff') format('woff'); /* Modern Browsers */
}

/* pt-serif-700normal - latin */
@font-face {
  font-family: 'PT Serif';
  font-style: normal;
  font-display: swap;
  font-weight: 700;
  src:
    local('PT Serif Bold '),
    local('PT Serif-Bold'),
    url('./files/pt-serif-latin-700.woff2') format('woff2'), /* Super Modern Browsers */
    url('./files/pt-serif-latin-700.woff') format('woff'); /* Modern Browsers */
}

/* pt-serif-700italic - latin */
@font-face {
  font-family: 'PT Serif';
  font-style: italic;
  font-display: swap;
  font-weight: 700;
  src:
    local('PT Serif Bold italic'),
    local('PT Serif-Bolditalic'),
    url('./files/pt-serif-latin-700italic.woff2') format('woff2'), /* Super Modern Browsers */
    url('./files/pt-serif-latin-700italic.woff') format('woff'); /* Modern Browsers */
}

::selection {
  background: $blueColor;
  color: $orangeColor;
}
::-moz-selection {
  background: $blueColor;
  color: $orangeColor;
}

html,
body {
  min-height: 100%;
}

html {
  font-size: 18px;
}

body {
  font-family: $body-font;
  color: lighten($mainColor, 60%);
  line-height: 1.75;

  background-color: $mainColor;

  text-shadow: -2px 1px 0px rgba(#000, .8);
}

a {
  -webkit-transition: .1s background ease, .1s color ease;
  -o-transition: .1s background ease, .1s color ease;
  transition: .1s background ease, .1s color ease;
}

header {
  display:block;
  
  /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#3e4341+0,3e4341+20,363a39+20,363a39+40,2e3230+40,2e3230+60,262928+60,262928+80,1e211f+80,1e211f+100 */
  background: rgb(62,67,65); /* Old browsers */
  background: -moz-linear-gradient(top, rgba(62,67,65,1) 0%, rgba(62,67,65,1) 20%, rgba(54,58,57,1) 20%, rgba(54,58,57,1) 40%, rgba(46,50,48,1) 40%, rgba(46,50,48,1) 60%, rgba(38,41,40,1) 60%, rgba(38,41,40,1) 80%, rgba(30,33,31,1) 80%, rgba(30,33,31,1) 100%); /* FF3.6-15 */
  background: -webkit-linear-gradient(top, rgba(62,67,65,1) 0%,rgba(62,67,65,1) 20%,rgba(54,58,57,1) 20%,rgba(54,58,57,1) 40%,rgba(46,50,48,1) 40%,rgba(46,50,48,1) 60%,rgba(38,41,40,1) 60%,rgba(38,41,40,1) 80%,rgba(30,33,31,1) 80%,rgba(30,33,31,1) 100%); /* Chrome10-25,Safari5.1-6 */
  background: linear-gradient(to bottom, rgba(62,67,65,1) 0%,rgba(62,67,65,1) 20%,rgba(54,58,57,1) 20%,rgba(54,58,57,1) 40%,rgba(46,50,48,1) 40%,rgba(46,50,48,1) 60%,rgba(38,41,40,1) 60%,rgba(38,41,40,1) 80%,rgba(30,33,31,1) 80%,rgba(30,33,31,1) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3e4341', endColorstr='#1e211f',GradientType=0 ); /* IE6-9 */

  padding-top:3.5rem;
  padding-bottom:1.5rem;

  div {
    display:block;

    padding:1rem;

    max-width: 64rem;
    margin: 0 auto;

  	a {
      @include dont-touch();

      display: table;
      margin: 0 auto;

  		img {
  			outline:0;
  			border:0;

        max-width: 100%;
        height: auto;
  		}
  	}
  }
}


// Custom...
article.main {

  margin: 0 auto 1rem;
  max-width: 64rem;
  padding: 1rem;
  word-wrap: break-word;

  section {

    div.embed-responsive {
      iframe {
        width:100%;
        max-width:640px;
      }
    }

    div.gif {
      max-width:640px;
      div {
        width:100%;height:0;padding-bottom:52%;position:relative;
      }
    }

    &.box:first-child {
      background-image: url(../images/Preview@2x.png);
      background-size: 575px 505px;
      background-repeat: no-repeat;
      background-position: right -10px top 30px;

      padding-left:2rem;
      padding-right:2rem;
      padding-top:1rem;
      padding-bottom:1rem;
      margin-bottom:2rem;

      @media only screen and (max-width: 768px) {
        //background-image: linear-gradient(to right, rgba($clearColor,0.75) 0%,rgba($clearColor,0.75) 100%), url(../images/Preview@2x.png);
        background-image: none;
      }

      div {
        width: 50%;

        @media only screen and (max-width: 768px) {
          width:100%;
        }

        p {
          span {
            background: $clearColor;
          }
        }

        a.demo {
          text-decoration: none;
          &:hover {
            color: darken($orangeColor, 25%);
          }
        }
      }
    }

    h1, h2, h3 {
      position: sticky;
      position: -webkit-sticky;
      top: 20px;
    }

    h1, h2, h3, h4, h5, h6 {
      @include dont-touch();

      z-index:2;
      display:inline-block;
      @media only screen and (max-width: 768px) {
        display:block;
      }

      font-family: $rewinder-font;
      color: lighten($mainColor, 70%);

      background: $blueColor;
      color: rgba($orangeColor, .95);

      padding-left:24px;
      padding-right:20px;

      // fix for typo
      padding-top: .4em;

      //border-radius:4px;

      width:auto;

      //border:1px solid lighten($blueColor, 10%);
      box-shadow: inset 4px 0px 0px 0px $orangeColor, inset 6px 0px 0px 0px lighten($blueColor, 10%), inset 4px 0px 0px 0px $mainColor, 0 1px 60px rgba(0,0,0,.5);

      text-shadow: -3px 3px 0px lighten($blueColor, 10%);

      @supports ((-webkit-backdrop-filter:initial) or (backdrop-filter:initial)){
        -webkit-backdrop-filter: blur(10px); /* Safari 9+ */
        backdrop-filter: blur(10px); /* Chrome and Opera */
        background: rgba($blueColor, .7);
      }
    }

    // custon p via markdown-it plugin
    p {
      a[target="_blank"] {
        text-decoration: none;
        background: $blueColor;
        color: $orangeColor;

        padding:4px;

        &:hover {
          background: darken($blueColor, 25%);
          color: darken($orangeColor, 25%);
        }
        // like selection but darker
        span {
          background:transparent;
        }
      }

      span {
        display:inline;

        background: rgba($mainColor, .85);
      }
    }

    &.box {
      border:1px solid darken($mainColor, 80%);
      background: $clearColor;
      text-shadow:none;
      color: $backgroundDarkForBox;

      box-shadow: 0 1px 60px rgba(0,0,0,.7);

      div.inner {
        padding-left:2rem;
        padding-right:2rem;
        padding-top:1rem;
        padding-bottom:1rem;
        margin-bottom:2rem;
      }

      position: relative;

      // Messages
      span.message {
        opacity:0;
        display:none;

        font-family:$body-font;

        background:$clearColor;
        @supports ((-webkit-backdrop-filter:initial) or (backdrop-filter:initial)) {
          -webkit-backdrop-filter: blur(10px); /* Safari 9+ */
          backdrop-filter: blur(10px); /* Chrome and Opera */
          background: rgba($clearColor, .8);
        }
        color: lighten($mainColor, 40%);

        z-index:4;

        padding:1rem;

        position:absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);

        text-shadow: -2px 1px 0px rgba(#fff, .8);

        font-size: 20px;
        //line-height: 1.8em;

        box-shadow:0 1px 60px rgba(0,0,0,.25);

        border:1px solid rgba(0,0,0,.2);

        font-weight:400;
        
        &.success {
          color:$blueColor;
          &:before {
            display:block;
            margin-right:2rem;
            content: "✓";
            color:$blueColor;
          }
        }

        &.error, &.rate-limit, &.connectivity-error {
          color:#E21B1B;
          &:before {
            display:block;
            margin-right:2rem;
            content: "╳";
            color:#E21B1B;
          }
        }

        @media only screen and (max-width: 768px) {
          transform: translate(-50%, -25%);
          width:100%;
        }
      }

      ::selection {
        background: $mainColor;
        color: $clearColor;
      }
      ::-moz-selection {
        background: $mainColor;
        color: $clearColor;
      }

      h1, h2, h3 {
        position: static;
        top: auto;
      }

      h1, h2, h3, h4, h5, h6 {
        background: $clearColor;
        text-shadow: -3px 3px 0px #fff;
        color: $backgroundDarkForBox;

        display:block;

        border: none;
        box-shadow: none;

        margin-left:0;
        padding-left:0;
      }

      p.detail {
        color: lighten($mainColor, 40%);
        font-size:14px;

        padding-left:22px;
        display: block;
        background-size: 12px 16px;
        background-image: url(../images/lock.svg);
        background-repeat: no-repeat;
        background-position: left center;
      }

      div.offline {
        margin:0;
        position: absolute;
        width: 100%;
        height: 100%;
        background: rgba(255,255,255,.95);
        z-index:10;

        @include dont-touch-soft();

        div.inner {
          position: relative;
          top: 50%;
          transform: translateY(-50%);
        }

        h4, p {
          margin-top:0;
          margin-bottom:0;
          background: transparent;
        }
      }

      form {
        // Disabled form
        pointer-events: none;

        button {
          font-family: $rewinder-font;
          color: lighten($mainColor, 70%);

          display:block;

          background: $blueColor;
          color: rgba($orangeColor, .95);

          padding-left:50px;
          padding-right:50px;

          margin-top:1.5rem;
          margin-bottom:1.5rem;

          clear:both;

          height:44px;

          // fix for typo
          padding-top: .4em;

          //border-radius:8px;

          text-shadow: -3px 3px 0px lighten($blueColor, 10%);

          cursor:pointer;

          // box-shadow: inset 4px 0px 0px 0px $orangeColor, inset 6px 0px 0px 0px lighten($blueColor, 10%);
          border: 1px solid #fff;

          &:hover {
            background: darken($blueColor, 5%);

            text-shadow: none;
          }
        }

        input[type="email"], select {
          font-family: $body-font;

          &::selection {
            background: $blueColor;
            color: $orangeColor;
          }
          &::-moz-selection {
            background: $blueColor;
            color: $orangeColor;
          }
        }

        input[type="email"] {
          margin-top:.5rem;
          margin-bottom:.5rem;

          background-color:$mainColor;

          padding-left: .6em;
          padding-right: .6em;
          line-height: 40px;

          width:100%;

          color:$clearColor;

          -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */
          -moz-box-sizing: border-box;    /* Firefox, other Gecko */
          box-sizing: border-box;         /* Opera/IE 8+ */

          //border-radius:4px;
        }

        label.d {
          padding:.5rem;
          margin:0;

          display:inline-block;
          width:50%;

          -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */
          -moz-box-sizing: border-box;    /* Firefox, other Gecko */
          box-sizing: border-box;         /* Opera/IE 8+ */

          &:nth-child(odd) {
            padding-left:0;
          }
          &:nth-child(even) {
            padding-right:0;
          }

          @media only screen and (max-width: 768px) {
            display:block;
            width:100%;
            &:nth-child(odd) {
              padding-left:0;
              padding-right:0;
            }
            &:nth-child(even) {
              padding-right:0;
              padding-left:0;
            }
          }

          font-size: 16px;
        }

        /* Custom Select */
        .select {
          position: relative;
          z-index:1;
          display: block;
          width: 100%;
          line-height: 40px;
          background: $mainColor;
          overflow: hidden;
          //border-radius: 4px;

          select {
            -webkit-appearance: none;
            -moz-appearance: none;
            -ms-appearance: none;
            appearance: none;

            outline: none;
            box-shadow: none;
            border: 0 !important;
            background: $mainColor;
            background-image: none;
          }

          margin-top:7px;

          &::after {
            content: '\25BC';
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            padding: 0 1em;
            color: $orangeColor;
            background: $mainColor;
            pointer-events: none;
          }
          &:hover::after {
            color: darken($orangeColor, 20%);
          }
          &::after {
            -webkit-transition: .25s all ease;
            -o-transition: .25s all ease;
            transition: .25s all ease;
          }
        }
        select {
          width: 100%;
          height: 100%;
          margin: 0;
          padding: 0 0 0 .5em;
          color: $clearColor;
          cursor: pointer;
          text-shadow: 0 0 0 #000;
        }
        select::-ms-expand {
          display: none;
        }
      }

      p {

        a[target="_blank"] {
          text-decoration: none;
          background: $backgroundDarkForBox;
          color: $clearColor;

          padding:4px;

          &:hover {
            background: $blueColor;
            color: $orangeColor;
          }
          // like selection but darker
          span {
            background:transparent;
          }
        }

        span {
          background:none;
        }
      }
    }

    &.about {
      margin-top:2rem;

      h3 {
        display:block;
      }
      /*img {
        @include dont-touch();

        height:auto;
        width:100%;
        max-width:256px;

        display:inline-block;

        margin-top:1rem;
      }*/

      div:last-child {
        padding-top:1rem;
      }
    }
  }
}